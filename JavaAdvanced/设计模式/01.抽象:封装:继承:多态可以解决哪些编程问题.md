# 抽象/封装/继承/多态可以解决哪些编程问题

------

## 本节概述

- 了解抽象/封装/继承/多态

## 主要内容

### 抽象 -- 只关注功能点、不关注实现

让调用者只需要关心方法提供了哪些功能，并不需要知道这些功能是如何实现的

抽象的实现，并不需要非得依靠接口类或者抽象类这些特殊语法机制来支持。并不是说一定要为实现类抽象出接口类，才叫做抽象。

额外注意：我们在定义（或者叫命名）类的方法的时候，也要有抽象思维，不要在方法定义中，暴露太多的实现细节，以保证在某个时间点需要改变方法的实现逻辑的时候，不用去修改其定义。



### 封装 -- 隐藏信息、数据访问保护

关于封装，需要编程语言本身提供一定的语法机制来支持。这个语法机制就是**访问权限控制**。比如 `private`、`public` 等关键字就是 Java 语言中的访问权限控制语法。`private` 关键字修饰的属性只能类本身访问，可以保护其不被类之外的代码直接访问。

类仅仅通过有限的方法暴露必要的操作，也能提高类的易用性。如果我们把类属性都暴露给类的调用者，调用者想要正确地操作这些属性，就势必要对业务细节有足够的了解。而这对于调用者来说也是一种负担。相反，如果我们将属性封装起来，暴露少许的几个必要的方法给调用者使用，调用者就不需要了解太多背后的业务细节，用错的概率就减少很多。



### 继承 -- 代码复用

继承是用来表示类之间的 is-a 关系。从继承关系上来讲，继承可以分为两种模式，单继承和多继承。

单继承表示一个子类只继承一个父类，多继承表示一个子类可以继承多个父类。

编程语言需要提供特殊的语法机制来支持，比如 Java 使用 extends 关键字来实现继承。而且 **Java 只支持单继承**。

假如两个类有一些相同的属性和方法，我们就可以将这些相同的部分，抽取到父类中，让两个子类继承父类。这样，两个子类就可以重用父类中的代码，避免代码重复写多遍。不过，这一点也并不是继承所独有的，我们也可以通过其他方式来解决这个代码复用的问题，比如利用组合关系而不是继承关系。

但是，过度使用继承，继承层次过深过复杂，就会导致代码可读性、可维护性变差。



### 多态 -- 子类可以替换父类（继承+方法重写）

多态这种特性也需要编程语言提供特殊的语法机制来实现。

- 第一个语法机制是编程语言要支持父类对象可以引用子类对象
- 第二个语法机制是编程语言要支持继承
- 第三个语法机制是编程语言要支持子类可以重写（override）父类中的方法



## 本节总结

- 封装特性存在的意义，一方面是保护数据不被随意修改，提高代码的可维护性；另一方面是仅暴露有限的必要接口，提高类的易用性。
- 抽象存在的意义，一方面是提高代码的可扩展性、维护性，修改实现不需要改变定义，减少代码的改动范围；另一方面，它也是处理复杂系统的有效手段，能有效地过滤掉不必要关注的信息。
- 继承主要是用来解决代码复用的问题。
- 多态可以提高代码的扩展性和复用性，是很多设计模式、设计原则、编程技巧的代码实现基础。



## 知识拓展

### 相关文章推荐

### 知识点拓展

1. 抽象有时候会被排除在面向对象的四大特性之外，为什么？

    因为抽象这个概念是一个非常通用的设计思想，并不单单用在面向对象编程中，也可以用来指导架构设计等。而且这个特性也并不需要编程语言提供特殊的语法机制来支持，只需要提供“函数”这一非常基础的语法机制，就可以实现抽象特性。所以，它没有很强的“特异性”，有时候并不被看作面向对象编程的特性之一。

2. 像 Java 这样的静态语言，通过继承实现多态特性，必须要求两个类之间有继承关系，通过接口实现多态特性，类必须实现对应的接口。
