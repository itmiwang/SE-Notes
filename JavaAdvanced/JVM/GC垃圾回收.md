# GC垃圾回收

------

## 本节概述

了解并掌握GC垃圾回收

## 主要内容

#### GC的一般原理

首先，GC 垃圾回收，垃圾指的是死亡的对象所占据的堆空间，将这些已经分配出去但却不再使用的内存回收回来，以便能够再次分配的操作，就是垃圾回收。 

那么，紧接着我们就需要了解一下，如何判断一个对象是死亡的。 

##### 引用计数法

引用计数法（reference counting），它的做法是为每个对象添加一个引用计数器，用来统计指向该对象的引用个数。一旦某个对象的引用计数器为 0，则说明该对象已经死亡，便可以被回收了。（我们需要截获所有的引用更新操作，并且相应地增减目标对象的引用计数器。） 

除了需要额外的空间来存储计数器，以及繁琐的更新操作，引用计数法还有一个重大的漏洞，那便是无法处理循环引用对象。循环引用对象实际已经死了，但是引用计数却认为他们还活着，所占据的空间将不可回收，从而造成了内存泄露。 

引用计数->引用跟踪不用标记所有的对象 

##### 可达性分析（主流）

这个算法的实质在于将一系列 GC Roots 作为初始的存活对象合集（live set），然后从该合集出发，探索所有能够被该集合引用到的对象，并将其加入到该集合中，这个过程我们也称之为标记（mark）。最终，未被探索到的对象便是死亡的，是可以回收的。

可达性分析可以解决引用计数法所不能解决的循环引用的问题。只要从 GC Roots 无法到达两个互相引用的对象，那么它们就不会加入存活对象合集之中。

## 知识拓展

### 相关文章推荐



### 知识点拓展

