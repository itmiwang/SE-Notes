# Java面向对象设计

------

## 本节概述

- 学习 Java 面向对象设计

## 主要内容

### Java 接口设计

#### 通用设计

- 通用设计 - 类/接口名
    - 模式（形容词）+ 名词
    - 举例：
        - 单名词：java.lang.String
        - 双名词：java.util.ArrayList
        - 形容词 + 名词：java.util.LinkedList
- 通用设计-可访问性
    - public：开放 API 使用场景
    - (default)：仅在当前 package 下使用，属于私有 API
    - protected：不能用于修饰最外层 Class
    - private：不能用于修饰最外层 Class
- 通用设计 - 可继承性
    - final：final 不具备继承性，仅用于实现类，不能与 abstract 关键字同时修饰类
    - 非final：最常见/默认的设计手段，**可继承性依赖于可访问性**



#### 类设计

##### 常见场景

- 功能组件
    - HashMap
- 接口/抽象类实现
    - HashMap <- AbstractMap <- Map
- 数据对象
    - POJO
- 工具辅助
    - Utils
    - ViewHelper
    - Helper

##### 命名模式

- 前缀："Default"，"Generic"，"Common"，"Basic"
- 后缀："Impl"



#### 抽象类设计

##### 常见场景

- 接口通用实现（模板模式）
    - AbstractList
    - AbstractMap
    - AbstractSet
- 状态/行为继承
- 工具类

##### 常见模式

- 抽象程度介于类与接口之间（Java 8+ 可完全由接口代替）
- 以 "Abstract" 或 "Base" 类名前缀
    - java.util.AbstractCollection



#### 内置类





#### 接口设计

##### 常见场景

- 上下游系统（组件）通信契约
    - API
    - RPC
- 常量定义
- 标记接口
    - Serializable
    - Cloneable
    - AutoCloseable
    - EventListener

##### 常见模式

- 无状态（Stateless）
- 完全抽象（ < Java 8）
- 局部抽象（ Java 8+ ）
- 单一抽象（ Java 8 函数式接口 ）



### Java 枚举设计





### Java 泛型设计





### Java 方法设计







## 本节总结





## 知识拓展

### 相关文章推荐

### 知识点拓展

1. String 并不是不可变的。从 Java 1.5 开始，**对象属性**可以通过反射修改。

    ```java
    String value = "Hello";
    String value2 = "Hello";
    
    System.out.println("before value : " + value);
    System.out.println("before value2 : " + value2);
    
    char[] chars = "World".toCharArray();
    // 获取 String 类中的 value 字段
    Field valueField = String.class.getDeclaredField("value");
    // 设置 private 字段可以被修改
    valueField.setAccessible(true);
    // 把 chars 设置到 value 字段的内容
    valueField.set(value2, chars);
    
    System.out.println("after value : " + value);
    System.out.println("after value2 : " + value2);
    ```

    注意：是对象属性，不是类属性。